# 4.9 Траблшутинг

### Задание 1. 

1. Укажите путь к файлам логов веб-сервера `Nginx`. 
2. Где находится конфигурационный файл, в котором можно посмотреть / поменять эти пути?
3. Какой командой можно воспользоваться для просмотра файла журнала в режиме реального времени?
Попробуйте найти сами, либо воспользуйтесь [ссылкой](https://andreyex.ru/operacionnaya-sistema-linux/nastrojka-zhurnala-oshibok-i-dostupa-nginx/).

*Приведите ответ в свободной форме.*

### Ответ:
1. Укажите путь к файлам логов веб-сервера `Nginx`.

`/var/log/nginx`

2. Где находится конфигурационный файл, в котором можно посмотреть / поменять эти пути?

`/etc/nginx`

3. Какой командой можно воспользоваться для просмотра файла журнала в режиме реального времени?
Попробуйте найти сами, либо воспользуйтесь [ссылкой](https://andreyex.ru/operacionnaya-sistema-linux/nastrojka-zhurnala-oshibok-i-dostupa-nginx/).
```bash
sudo tail -f /var/log/nginx/access.log
```
---

### Задание 2. 

Познакомьтесь со схемой сети.

![](https://i.imgur.com/RefFHYj.png)

1. `COMP1` не может обменяться данными с `COMP4`. Какую последовательность действий вы выберете для того, чтобы локализовать проблему?
2. Возможно ли, чтобы при выполнении `ping 192.168.1.2` с компьютера `COMP5`, `ping` прошёл, а подключение по HTTP с `COMP5` на `COMP1` не проходило бы? Поясните свой  ответ максимально детально.
3. `COMP5` отправляет `ping` на `COMP1` и `COMP2`, при этом `COMP1` на `ping` отвечает, а `COMP2` - нет. 

Приведите максимальное количество причин. Самую простую, но нередко встречающуюся - «У `COMP2` выдернули кабель питания» - я уже ответил за вас.

4. `COMP1` пингует только адреса из подсети `192.168.1.0/24` (`COMP2` и `192.168.1.1`), больше никакие адреса не пингуются. С чем это может быть связано? 

*Приведите ответ в свободной форме.*

### Ответ:
1. `COMP1` не может обменяться данными с `COMP4`. Какую последовательность действий вы выберете для того, чтобы локализовать проблему?

Последовательность действий (при условии, что COMP1 и COMP4, все коммутаторы и маршрутизаторы подключены к электричеству и включены):
- Проверю подключен ли кабель, в рабочем ли он состоянии.
- Если кабель подключен и в рабочем состоянии, проверю есть ли линк. Далее проверю порт(ы). Проверю включен ли он, настроен и не заблокирован ли он. Не заблокирован ли MAC-адрес.
- Далее проверю всё ли правильно настроено (ip-адрес, маска, шлюз, маршруты, нет ли блокировки firewall’ом). Есть ли связь на L2, L3, L4 уровнях.
- Проверю корректность работы ПО.
- Проверю канал, не загружен ли.

2. Возможно ли, чтобы при выполнении `ping 192.168.1.2` с компьютера `COMP5`, `ping` прошёл, а подключение по HTTP с `COMP5` на `COMP1` не проходило бы? Поясните свой  ответ максимально детально.

- Да, возможно. Возможно, HTTP-сервиса вообще нет. Возможно, HTTP-сервис есть, но не запущен. Возможно, установлен, запущен, но закрыт 80 порт или отвечает вообще по другому порту или firewall блокирует доступ. Возможно, установлен, запущен, отвечает по нужному порту, но настройки доступа ограничены.

3. `COMP5` отправляет `ping` на `COMP1` и `COMP2`, при этом `COMP1` на `ping` отвечает, а `COMP2` - нет. 

Приведите максимальное количество причин. Самую простую, но нередко встречающуюся - «У `COMP2` выдернули кабель питания» - я уже ответил за вас.

Возможные причины:
- У COMP2 неисправный или неподключенный сетевой кабель. Неисправна сетевая карта.
- COMP2 может быть не настроен или неправильно настроен, не прописан шлюз.
- На маршрутизаторе могут быть настройки доступа.


4. `COMP1` пингует только адреса из подсети `192.168.1.0/24` (`COMP2` и `192.168.1.1`), больше никакие адреса не пингуются. С чем это может быть связано? 

- На COMP1 не указан или некорректно указан шлюз.
- Не настроена или не корректно настроена маршрутизация между маршрутизаторами.
- Запрещен доступ.

---
